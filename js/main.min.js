function handleNewsletterSubmit(e){e.preventDefault();const t=e.target,o=t.querySelector('input[name="fields[email]"]').value;if(!o||!o.includes("@"))return void alert("Please enter a valid email address");const n=t.querySelector('button[type="submit"]'),c=n.textContent;n.textContent="Subscribing...",n.disabled=!0,fetch("https://assets.mailerlite.com/jsonp/1749703/forms/163368800993936434/subscribe",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`fields[email]=${encodeURIComponent(o)}&ml-submit=1&anticsrf=true`}).then(e=>{t.closest(".ml-form-embedBody").innerHTML='\n              <div class="ml-form-successBody row-success">\n                <div class="ml-form-successContent">\n                  <h4>Success!</h4>\n                  <p>You have successfully joined our mailing list.</p>\n                </div>\n              </div>\n            '}).catch(e=>{console.error("Subscription error:",e),alert("There was an error. Please try again."),n.textContent=c,n.disabled=!1})}function ml_webform_success_29895363(){var e=ml_jQuery||jQuery;e(".ml-subscribe-form-29895363 .row-success").show(),e(".ml-subscribe-form-29895363 .row-form").hide()}function detectAndApplyTheme(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;applyTheme(e||(t?"dark":"light"))}function applyTheme(e){document.documentElement.setAttribute("data-theme",e)}function toggleTheme(){const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";applyTheme(e),localStorage.setItem("theme",e),updateThemeToggleIcon(e)}function updateThemeToggleIcon(e){const t=document.querySelector(".theme-toggle");t&&(t.innerHTML="dark"===e?"☀️":"🌙",t.title="dark"===e?"Switch to light mode":"Switch to dark mode")}function setupSystemThemeListener(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";applyTheme(t),updateThemeToggleIcon(t)}})}function setActiveNavigation(){const e=window.location.pathname;let t;document.querySelectorAll(".nav-item").forEach(e=>{e.classList.remove("active")}),"/"===e||"/index.html"===e||e.endsWith("/")||e.includes("index.html")?t=document.querySelector('.nav-item[href="/"]'):e.includes("/work")||e.includes("work.html")?t=document.querySelector('.nav-item[href="/work/"]'):e.includes("/founders")||e.includes("founders.html")?t=document.querySelector('.nav-item[href="/founders/"]'):e.includes("/workshops")||e.includes("workshops.html")?t=document.querySelector('.nav-item[href="/workshops/"]'):(e.includes("/contact")||e.includes("contact.html"))&&(t=document.querySelector('.nav-item[href="/contact/"]')),t&&t.classList.add("active")}function setupMobileMenuClickOutside(){document.addEventListener("click",e=>{const t=document.querySelector(".nav-items"),o=(document.querySelector(".mobile-nav-toggle"),document.querySelector(".nav-container"));t&&t.classList.contains("active")&&!o.contains(e.target)&&closeMobileMenu()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&closeMobileMenu()})}function toggleMobileMenu(){const e=document.querySelector(".nav-items"),t=document.querySelector(".mobile-nav-toggle");e.classList.toggle("active"),t.classList.toggle("active")}function closeMobileMenu(){const e=document.querySelector(".nav-items"),t=document.querySelector(".mobile-nav-toggle");e.classList.remove("active"),t.classList.remove("active")}function copyEmail(){const e="info@thewyrdstudios.com";navigator.clipboard.writeText(e).then(()=>{const e=document.querySelector(".email-copy-btn"),t=e.textContent;e.textContent="Copied!",e.style.background="#4CAF50",setTimeout(()=>{e.textContent=t,e.style.background=""},2e3)}).catch(t=>{console.error("Failed to copy email:",t);const o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o);const n=document.querySelector(".email-copy-btn"),c=n.textContent;n.textContent="Copied!",n.style.background="#4CAF50",setTimeout(()=>{n.textContent=c,n.style.background=""},2e3)})}function subscribeNewsletter(){const e=document.getElementById("newsletter-email").value;if(e&&e.includes("@")){const e=document.querySelector(".newsletter-subscribe-btn"),t=e.textContent;e.textContent="Subscribed!",e.style.background="#4CAF50",document.getElementById("newsletter-email").value="",setTimeout(()=>{e.textContent=t,e.style.background=""},2e3)}}function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",()=>{detectAndApplyTheme(),setupSystemThemeListener(),setupMobileMenuClickOutside(),window.self!==window.top&&document.body.setAttribute("data-iframe","true"),setActiveNavigation()}),window.addEventListener("scroll",()=>{const e=document.querySelector(".back-to-top");window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")}),document.addEventListener("DOMContentLoaded",function(){function e(e,t){fetch(t).then(e=>e.text()).then(t=>{document.getElementById(e).innerHTML=t,"header"===e&&setTimeout(()=>{const e=document.documentElement.getAttribute("data-theme");if(e){const t=document.querySelector(".theme-toggle");t&&(t.innerHTML="dark"===e?"☀️":"🌙",t.title="dark"===e?"Switch to light mode":"Switch to dark mode")}const t=document.querySelector(".theme-toggle");t&&"function"==typeof toggleTheme&&t.addEventListener("click",toggleTheme),"function"==typeof setActiveNavigation&&setActiveNavigation()},10)}).catch(e=>console.error("Error loading component:",e))}e("header","components/header.html"),e("footer","components/footer.html")});